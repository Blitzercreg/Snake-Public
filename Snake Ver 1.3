import pygame
import time
import sys

pygame.init()
screen = pygame.display.set_mode((499,499))

def draw_rectangle(surf, x, y, color):
	pygame.draw.rect(screen, color, (x*5, y*5, 4, 4))

for x in range(100):
	for y in range(100):
		draw_rectangle(screen, x, y, (128, 128, 128))
snake_x = 50
snake_y = 50
draw_rectangle(screen, snake_x, snake_y, (0, 255, 0))

pygame.display.flip()

clock = pygame.time.Clock()
snake_x_diff = 0
snake_y_diff = -1
squares = []
start = True
up = True
down = False
left = False
right = False

while True:
	clock.tick(4)
	snake_y += snake_y_diff
	if snake_y < 0:
		snake_y = 0
	if snake_y > 99:
		snake_y = 99
	snake_x += snake_x_diff
	if snake_x < 0:
		snake_x = 0
	if snake_x > 99:
		snake_x = 99
		
	draw_rectangle(screen, snake_x, snake_y, (0, 255, 0))

	squares.append(snake_x)
	squares.append(snake_y)
	print(squares)
	
	if len(squares) > 10:
			draw_rectangle(screen, squares[0], squares[1], (128, 128, 128))
			squares.pop(0)
			squares.pop(0)
	if start == True and len(squares) == 10:
		draw_rectangle(screen, 50, 50, (128, 128, 128))
		start = False
	
	pygame.display.flip()
	events = pygame.event.get()
	for event in events:
		if event.type == pygame.QUIT:
			sys.exit()
		elif event.type == pygame.KEYDOWN:
			#LEFT
			if event.key == 276 and right == False:
				snake_x_diff = -1
				snake_y_diff = 0
				up = False
				down = False
				left = True
				right = False
			#RIGHT
			elif event.key == 275 and left == False:
				snake_x_diff = 1
				snake_y_diff = 0
				up = False
				down = False
				left = False
				right = True
			#DOWN
			elif event.key == 274 and up == False:
				snake_x_diff = 0
				snake_y_diff = 1
				up = False
				down = True
				left = False
				right = False
			#UP
			elif event.key == 273 and down == False:
				snake_x_diff = 0
				snake_y_diff = -1
				up = True
				down = False
				left = False
				right = False
	pygame.event.clear() 
